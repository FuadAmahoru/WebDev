using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Assignment1
{
    class MainMenu : Menu
    {
       public MainMenu()
        {
            displayTitle("Main Menu");
            menuItem.Add("Owner");
            menuItem.Add("Franchise Owner");
            menuItem.Add("Customer");
            menuItem.Add("Quit");
            displayList();
            displayHint();
            
        }
  
       bool validingInput()
        {
            int option;
            
           
                option = getInput(Console.ReadLine());
                if (option!=-1)
                {
                    
                    switch (option)
                 {
                    case 1:
                        Owner owner = new Owner();
                        owner.runOwnerMenu();
                        break;

                    case 2:
                        Franchise fran = new Franchise();
                        fran.runFranchiseMenu();
                        break;

                    case 3:
                        Customer cust = new Customer();
                        cust.runCustomerMenu();
                        break;

                    case 4:
                        quit();
                        break;

                    default:
                        Console.WriteLine("The option is not available! Please enter another option(1 to {0}):",menuItem.Count);
                        Console.WriteLine();
                        Console.WriteLine();
                        Console.WriteLine();
                        return false;
                        break;
                }
                return true;
                }else
                {
                    Console.WriteLine("Please enter correct value!");
                return false;
                }
                

            
        }
        
       public void runMainMenu()
        {
            bool input;
            while (true) { 
                
                input = validingInput();
                if (!input)
                {
                    new MainMenu();
                }
            } 
        }
        
       public void quit()
        {
            Environment.Exit(0);
        }
    }
}
